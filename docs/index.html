
<!DOCTYPE html>
<html>
    <head>
        <title>Setup and Introduction</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="tutorial.css">
        <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/github-dark.min.css">
        <!-- Load syntax highlighter  -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
        <script>
            function CopyMe(TextToCopy) {
                var TempText = document.createElement("input");
                TempText.value = TextToCopy;
                
                document.body.appendChild(TempText);
                TempText.select();
                
                document.execCommand("copy");
                document.body.removeChild(TempText);
            }
        </script>
    </head>
    <body>
        <div class="main">
            <button type="button" class="collapse"><h1>1. Introduction and Context</h1></button>
            <div class="container">
        
        <p>
            In this tutorial we will learn how to setup a <b>Python</b> environment for <b>Machine Learning</b> on Linux.
        
        </p>
        <p>
            Prerequisites:
            <ul>
                <li><span>a machine running Linux/MacOS</span></li>
                <li><code>python</code> (<a href="https://www.python.org/downloads/" target="_blank">3.8+</a>)</li>
                <li><code>poetry</code> (<a href="https://python-poetry.org/docs/#installation" target="_blank">1.8+</a>)</li>
                <li><code>git</code> (<a href="https://git-scm.com/downloads" target="_blank">2.17+</a>) </li>
                <li>a web browser</li>
            </ul>
        </p>
        <p>
            Most complex Python projects require a specific <i>environment</i> to run properly. Often there are many external libraries involved and each of those have a specific set of dependencies. In order to avoid version conflicts it best to have an <b>isolated</b> environment for every different application (e.g. you are working on two different projects, one is requiring the latest version of <code>numpy</code> and the other one needs a library that depends on an older version of <code>numpy</code>).
        </p>
        <p>
            There are software tools designed specifically for this purpose such as <b>pipenv</b>, <b>conda</b> (anaconda/miniconda) and <b>poetry</b>. They are capable of managing package dependencies and allow you to have multiple isolated environments. On UNIX systems those work by modifying the <code>PATH</code> variable which is where the shell looks up the typed command names such as <code>ls</code> or <code>python</code>. By changing this you get to control which python version and python packages will be used. If you are curious you can check your <code>PATH</code> by running:
            <div class="terminal"><code class="language-bash" id="term1"> echo $PATH</code>  <button class="copy" onclick="CopyMe('echo $PATH')"><img class="clipboard" src="copy2.png"></button> </div>
        </p>
        <p>
            For this tutorial we will be using <b>poetry</b>
        </p>
            </div>
            <button type="button" class="collapse"><h1>2. Installing and configuring <code>poetry</code></h1></button>
            <div class="container">
        <p>
            Firstly isntall the latest version of <b>poetry</b> from the <a href="https://python-poetry.org/docs/#installation" target="_blank">official website</a>. There are several ways of installing it, pick any one that suits your setup.
            Now, make sure to run this command, the reasons will become apparent in time:
            <div class="terminal">
                <code class="language-bash">
                    poetry config virtualenvs.in-project true
                </code>
                <button class="copy" onclick="CopyMe('poetry config virtualenvs.in-project true')"><img class="clipboard" src="copy2.png"></button>
        </div> 
        </p>
            </div>
            <button type="button" class="collapse"><h1>3. Creating our first environment</h1></button>
            <div class="container">
        <p>
            We are going to create an environment tailored for running the latest version of <b>tensorflow</b> available, with python 3.11. This will be the environment for the machine learning tutorials in this repo.
        </p>
        <p>
            <b>poetry</b> allows us to create new environments form the terminal. Using the following command we will create a new environment named <code>onboarding-ml</code> (you can use whatever name you like) with python version 3.11. If you choose to not use the <i>quiet</i> <code>-q</code> flag, poetry will try to guide you through an interactive setup process.
            <div class="terminal"><code class="language-bash" id="term1"> poetry init --name=onboarding-ml --python=^3.11 -q</code>  <button class="copy" onclick="CopyMe('poetry init --name=onboarding-ml --python=^3.11 -q')"><img class="clipboard" src="copy2.png"></button> </div>
        </p>
        <p>
            In order to switch to this new environment from the current shell, use the command:
            <div class="terminal"><code class="language-bash" id="term1"> poetry shell</code>  <button class="copy" onclick="CopyMe('poetry shell')"><img class="clipboard" src="copy2.png"></button> </div>
        </p>
        <p>
            You can check the python version in the newly-created environment by running <code class="inline">python --version</code>. It might also be interesting to check the output of <code class="inline">which python</code>. Finally, in order to check the packages installed in the environment use:
            <div class="terminal"><code class="language-bash" id="term1"> pip freeze</code>  <button class="copy" onclick="CopyMe('pip freeze')"><img class="clipboard" src="copy2.png"></button> </div>
        </p>
        <p>
            Right now the environment is empty. We are going to learn how to install packages in the next section.
        </p>
            </div>
            <button type="button" class="collapse"><h1>4. Python from the Terminal</h1></button>
            <div class="container">
                <p>
                    Being a very versatile language, <b>python</b> can be ran in many ways. Since it is an <i>interpreted</i> language, you have to pass the code to a <b>python interpreter</b> on all platforms this can be achieved through the terminal. We can start an interactive python session from the terminal by just running <code class="inline">python</code> from the terminal. Make sure you have activated the correct environment first. Then, try your hand at the following commands:
                    <div class="interpreter">
                    <pre><code class="language-python">print("hello world")    # basic printing of strings
49%7                    # basic math operations
nums = [1, 2, 3, 4, 5]  # defining variables
sum(nums)               # builtin functions

exit()                  # quit the python interpreter</code></pre>
                    </div>
                </p>
                <p>
                    You may also pass the code to the interpreter directly from the terminal shell by using the <code>-c</code> argument, as in the example below. You will notice that this program will run indefinitely, so it may be a good moment to remember that the shortcut <code>CTRL+C</code> will instantly kill te running process in the terminal.
                    <div class="terminal"><code class="language-bash" id="term1"> python -c "while(True): print(42)"</code>  <button class="copy" onclick="CopyMe('python -c \'while(True): print(42)\'')"><img class="clipboard" src="copy2.png"></button> </div>
                </p>
                <p>
                    Although this may be useful in a pinch for simple programs and basic math, the most common way of running a python script is by passing a file to the interpreter. Let's create a simple program called <code>yell.py</code> using only the terminal. Using the <code>nano</code> text editor, create a file named <code>yell.py</code>:
                    <div class="terminal"><code class="language-bash" id="term1"> nano yell.py</code>  <button class="copy" onclick="CopyMe('nano yell.py')"><img class="clipboard" src="copy2.png"></button> </div>
                </p>
                <p>
                    Add the following lines of code and write the file with <code>CTRL+O</code> followed by <code>ENTER</code>. You can then close <code>nano</code> with <code>CTRL+X</code>.
                    <div class="interpreter">
                        <pre><code class="language-python">name = input("What is your name?\n")
print("HELLO, ", name.upper())</code></pre>
                        </div>
                </p>
                <p>
                    To run our script just use the file as an argument to the python interpreter: <code class="inline">python yell.py</code>. The script will read the users name from the keyboard and print a greeting message in <code>CAPS LOCK</code>
                </p>
            </div>
            <button type="button" class="collapse"><h1>5. Python Package Management Tools</h1></button>
            <div class="container">
                <p>
                    Unlike other package management tools such as <code>conda</code>, <code>poetry</code> does not come with with its own package manager and custom repositories. Python itself already has a package manager called <b>pip</b> ,which is what <code>poetry</code> will use. This ensures that we only use a single set of repositories and dependency trees. 
                </p>
                <p>
                    First, make sure you have activated the environment. Use <code>poetry add</code> followed by a list of packages to install.
                    <div class="terminal"><code class="language-bash" id="term1"> poetry add  scikit-learn matplotlib tensorflow</code>  <button class="copy" onclick="CopyMe('poetry add scikit-learn matplotlib tensorflow')"><img class="clipboard" src="copy2.png"></button> </div>
                </p>
                <p>
                    This will install:
                    <ul>
                        <li><code>scikit-learn</code>: a library for easy setting up simple machine learning applications </li>
                        <li><code>tensorflow</code>: the main framework used for machine learning in this tutorial</li>
                        <li><code>matplotlib</code>: offers basic plotting functionality</li>
                    </ul>
                </p>
                <p>
                    <code>pip freeze</code> will know show the installed packages alongside all their dependencies (there are a lot of them).
                </p>
            </div>
            <button type="button" class="collapse"><h1>6. Understanding <code>git</code> Basic Concepts</h1></button>
            <div class="container">
                <p>Have you ever added a new feature to your code that completely <i>borked</i> everything? We all did! For this reason it is really useful to keep track of all the history of changes to your codebase. <code>git</code> is designed to do just that.
                </p>
                <p>
                    A git repository keeps track of all of the modification you made on your code and archives it in a hidden folder usually <code>*project*/.git/</code>. Whatever happens you can access any previous state of your project and restore anything you may eventually break.
                </p>
                <p>
                    One important feature is the ability to save your <code>git</code> repository online. This is invaluable when multiple people are contributing to the same project and allows all developers to work from various different machines.
                </p>
                <p>
                    This tutorial is, in fact, contained in a repository hosted on <a href="https://github.com/ioandinu/onboarding-ml">github.com</a>. Anyone can access and copy the contents through <code>git</code>. Before continuing to the last section let's use <code>git clone</code> to download a copy of the tutorial repository. Go to the home folder with <code class="inline">cd ~</code> and run the following command:
                    <div class="terminal"><code class="language-bash" id="term1"> git cone https://github.com/ioandinu/onboarding-ml.git</code>  <button class="copy" onclick="CopyMe('git clone https://github.com/ioandinu/onboarding-ml.git')"><img class="clipboard" src="copy2.png"></button> </div>
                </p>
                <p>
                    You should now have a <i>clone</i> of the repository stored locally. You can check the changes made to the code by going into the newly created folder and running:
                    <div class="terminal"><code class="language-bash" id="term1"> git status</code>  <button class="copy" onclick="CopyMe('git status')"><img class="clipboard" src="copy2.png"></button> </div>
                </p>
            </div>
            <button type="button" class="collapse"><h1>7. Jupyter Notebooks</h1></button>
            <div class="container">
                <p>Writing code directly in the python interactive interpreter offers a lot of flexibility and allows for faster debugging and experimentation. Wouldn't it be great if you could execute your scripts in the same interactive way? This is what Jupyter notebook is designed for. First, let's install it in our environment: 
                    <div class="terminal"><code class="language-bash" id="term1"> poetry add jupyter</code>  <button class="copy" onclick="CopyMe('poetry add jupyter')"><img class="clipboard" src="copy2.png"></button> </div>
                </p>
                <p>
                   Now go to the git repository and run <code class="inline">jupyter notebook</code>. A browser session should open.
                </p>
                <p>
                    The rest of this tutorial will be presented through jupyter notebooks.
                </p>
                
            </div>
        </div>
        <script>
            var coll = document.getElementsByClassName("collapse");
            var i;
            for (i = 0; i < coll.length; i++) {
              coll[i].addEventListener("click", function() {
                console.log("click")
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.display === "block") {
                  content.style.display = "none";
                } else {
                  content.style.display = "block";
                }
              });
            }
        </script>
        <script>hljs.highlightAll();</script>
    </body>
</html>